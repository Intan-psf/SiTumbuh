<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login Register</title>

  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />

  <!-- Bootstrap CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
    
<div id="logreg">
  <header>
     <img src="{{ url_for('static', filename='img/logo.png') }}" alt="SiTumbuh" class="logo">

    <div class="fas fa-bars"></div>
  </header>

    <div class="container">
      

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul>
      {% for category, message in messages %}
        {% if category == 'approval' %}
          <li class="flash-message">{{ message }}</li>
        {% endif %}
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

  <div class="form-box active" id="login-form">
    <form method="POST" action="{{ url_for('logregmin') }}">
      <input type="hidden" name="form_type" value="login">
      <input class="input" type="text" name="username" placeholder="Username" required>
      <input class="input" type="password" name="password" placeholder="Password" required>
      <button class="button" type="submit">Login</button>
      <p class="mt-2">Belum punya akun? <a onclick="showForm('register-form')">Register</a></p>
    </form>
  </div>

  <div class="form-box" id="register-form">
    <form method="POST" action="{{ url_for('logregmin') }}">
      <input type="hidden" name="form_type" value="register">
      <input class="input" type="text" name="username" placeholder="Username" required>
      <input class="input" type="email" name="email" placeholder="Email" required>
      <input class="input" type="password" name="password" placeholder="Password" required>
      <input class="input" type="text" name="nama_lengkap" placeholder="Nama Lengkap" required>
      <input class="input" type="text" name="no_telepon" placeholder="No Telepon (optional)">
      <input class="input" type="text" name="alamat" placeholder="Alamat (optional)">
      <input class="input" type="text" name="wilayah_posyandu" placeholder="Wilayah Posyandu (optional)">
      <button class="button" type="submit">Register</button>
      <p class="mt-2">Sudah punya akun? <a onclick="showForm('login-form')">Login</a></p>
    </form>
  </div>
</div>

<script>
  function showForm(formId){
    document.querySelectorAll('.form-box').forEach(el => el.classList.remove('active'));
    document.getElementById(formId).classList.add('active');
  }
</script>

</body>
</html>